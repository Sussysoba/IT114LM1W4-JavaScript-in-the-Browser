<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <script>
        async function start() {
            // Checkpoint 4.1 What are HTTP requests and responses? What are the various HTTP verbs and what do they do?
            // Answer: HTTP is a protocol for transmitting HTML. HTTP requests are messages sent by a client to request information from a server, and HTTP responses are messages sent by the server to provide the requested information. Various HTTP verbs include GET, POST, PUT, DELETE etc.

            // DONE 4.1 Fetch the list of users. Output the first and second page of users.
            const usersResponse = await fetch('https://reqres.in/api/users?page=1');
            const usersData = await usersResponse.json();
            console.log('Page 1 Users:', usersData.data);

            const usersResponsePage2 = await fetch('https://reqres.in/api/users?page=2');
            const usersDataPage2 = await usersResponsePage2.json();
            console.log('Page 2 Users:', usersDataPage2.data);

            // DONE 4.2 Fetch the information about a single user. Display their information
            const singleUserResponse = await fetch('https://reqres.in/api/users/1');
            const singleUserData = await singleUserResponse.json();
            console.log('Single User:', singleUserData.data);

            // DONE 4.3 Create a user
            const createUserResponse = await fetch('https://reqres.in/api/users', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify({
                    name: 'John Robert Santos',
                    job: 'Rizzler ni Loisa',
                }),
            });
            const createdUserData = await createUserResponse.json();
            console.log('Created User:', createdUserData);

            // Todo 4.4 Update the information of the user that you have created
            const updateUserResponse = await fetch('https://reqres.in/api/users/2', {
                method: 'PUT',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify({
                    name: 'John Robert Santos',
                    job: 'Rizzler ni Matthew',
                }),
            });
            const updatedUserData = await updateUserResponse.json();
            console.log('Updated User:', updatedUserData);

            // Todo 4.5 Delete the user that you have created
            const deleteUserResponse = await fetch('https://reqres.in/api/users/2', {
                method: 'DELETE',
            });
            if (deleteUserResponse.status === 204) {
                console.log('User deleted successfully.');
            } else {
                console.log('Error deleting user.');
            }
        }

        // Checkpoint 4.2 What is the difference between callbacks, then-catch vs await-try-catch? When should you use one over the other
        // Answer: Callbacks: Traditional way of handling asynchronous operations. Callback functions are provided as arguments and executed when the operation completes. Callbacks can lead to callback hell or pyramid of doom, making the code less readable.
        // - then-catch: Promises, provide a cleaner way to handle asynchronous operations. Promises have a `.then()` method for handling successful outcomes and a `.catch()` method for handling errors. It helps avoid callback hell, but chaining many `.then()` calls can still lead to less readable code.
        // - await-try-catch: This is a more readable and concise way of handling asynchronous code. The `await` keyword is used within an `async` function, making the code look synchronous. The `try-catch` block is used for error handling.

        start();
    </script>
</body>

</html>
